<ng-container *ngIf="(userService.userRelawan$ | async) as user">
  <div
    *ngIf="user?.depth <= MAX_TRUSTED_DEPTH && (state$ | async) as state"
    class="wrapper"
  >
    <app-path [node]="state"></app-path>

    <ng-container *ngFor="let c of state.children">
      <ng-container *ngIf="state.data[c[0]] as d">
        <ng-container *ngIf="d.sum.pending || d.sum.error">
          <app-approver
            [kelurahanId]="state.id"
            [tpsNo]="c[0]"
            [color]="d.sum.error ? '#FDD' : d.sum.pending ? '#FFD' : ''"
            [user]="user"
          ></app-approver>
          <mat-divider></mat-divider>
        </ng-container>
      </ng-container>
    </ng-container>

    <p>
      <button mat-raised-button color="primary" [routerLink]="['/t', state.id]">
        Back to public view
      </button>
    </p>
  </div>
</ng-container>
